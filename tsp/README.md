# Практическое занятие №6 и #7: NP-полные задачи, метод ветвей и границ, локальный поиск

В работе №6 представлены решения задачи коммивояжера (Travelling Salesman Problem, TSP) методом ветвей и границ, 
полным перебором и жадным алгоритмом. Данные алгоритмы дают оптимальное (точное) решение. 

В работе №7 представлен алгоритм решения задачи коммивояжера (Travelling Salesman Problem, TSP) методом 
локального поиска, с помощью 2opt эвристики. 

Алгоритмы полного перебора, метода ветвей и границ дают оптимальное решение. Жадный алгоритм и локальный поиск -
субоптимальное решение. 

Для удобства были проведены замеры работ 4х алгоритмов на графах с малым колличеством вершин. А для алгоритмов с
субоптимальным решением - на графах с колличество врешин >= 1000

## Алгоритмическая сложность 

1. tspBnb (метод ветвей и границ) - O(n^2 * 2^n)
2. tspNative (полный перебор) - O((n-1)!)
3. tspGreedy (жадный алгоритм) - O(n^2)
4. tspLocalSearch (локальный поиск 2opt) - O(n^2) 


## Unit-tests

![tests](images/unit-tests.png)

## Замеры времени и длины полученных путей

Замеры были проведены на `release` версии с флагом оптимизации `-O2`.

### Замеры на графах с малым колличеством вершин

#### Время

| Algorithm / Number of vertices in graph (N) | 7          | 8          | 9          | 10         |
|---------------------------------------------|------------|------------|------------|------------|
| tspBnb                                      | 0.013499 s | 0.029000 s | 0.845525 s | 8.484603 s |    
| tspNative                                   | 0.000358 s | 0.002529 s | 0.018632 s | 0.176340 s |
| tspGreedy                                   | 0.000007 s | 0.000007 s | 0.000008 s | 0.000010 s |
| tspLocalSearch                              | 0.000011 s | 0.000004 s | 0.000004 s | 0.000010 s |

#### Длина путей

| Algorithm / Number of vertices in graph (N) | 7          | 8          | 9          | 10         |
|---------------------------------------------|------------|------------|------------|------------|
| tspBnb                                      | 222.488423 | 138.057704 | 146.511210 | 213.694628 |    
| tspNative                                   | 222.488423 | 138.057704 | 146.511210 | 213.694628 |
| tspGreedy                                   | 244.291405 | 196.380316 | 146.511210 | 296.543722 |
| tspLocalSearch                              | 285.442414 | 287.483374 | 349.440687 | 401.366466 |

### Замеры на графах с большим колличеством вершин

#### Время

| Algorithm / Number of vertices in graph (N) | 1000       | 2000       | 3000       | 
|---------------------------------------------|------------|------------|------------|
| tspGreedy                                   | 0.501878 s | 3.398062 s | 8.385360 s |    
| tspLocalSearch                              | 0.139727 s | 2.521229 s | 2.166744 s |

#### Длина путей

| Algorithm / Number of vertices in graph (N) | 1000         | 2000          | 3000          |
|---------------------------------------------|--------------|---------------|---------------|
| tspGreedy                                   | 1665.530656  | 2886.718191   | 3799.875993   |    
| tspLocalSearch                              | 50763.786550 | 100007.294283 | 150741.695203 |

## Вывод

Для задачи коммивояжера существует множество алгоритмов решений, каждый из которых хорош по определенному признаку.
Алгоритмы субоптимального решения - находят не самый коротки путь, но работают намного быстрее нежели алгоритмы
находящие оптимальное решение. Что в свою очередь позволяет работать с графами огромных размеров. 
Также алгоритмы с субоптимальным решением отличаются между собой (как видно алгоритм 2opt эвристики работает быстрее
нежели жадный алгоритм, но ищет менее удачное решение). 

Алгоритмы с оптимальным решением находят наикротчайший путь, но имеют большую временую сложность. Можно заметить
различие по скорости работы между алгоритмом полного перебора и метода ветвей и границ. На малом колличестве вершин,
ввиду сложностей алгоритмов, быстрее работает - полный перебор. При увелечении колличества вершин, быстрее работает -
метод ветвей и границ.
